<div class="customers-page">
  <!-- Page Header -->
  <div class="page-header">
    <div class="header-left">
      <h1 class="page-title">Customers Management</h1>
      <p class="page-subtitle">Manage your customer database</p>
    </div>
    <div class="header-actions">
      <button class="add-button" (click)="addCustomer()">
        <svg class="icon" viewBox="0 0 24 24" fill="none" stroke="currentColor">
          <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 4v16m8-8H4" />
        </svg>
        <span>Add Customer</span>
      </button>
    </div>
  </div>

  <!-- Search and Filters -->
  <div class="filters-section">
    <div class="search-wrapper">
      <svg class="search-icon" viewBox="0 0 24 24" fill="none" stroke="currentColor">
        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z" />
      </svg>
      <input 
        type="text" 
        [(ngModel)]="searchName" 
        (keyup.enter)="onSearch()"
        placeholder="Search customers by name or email..." 
        class="search-input"
      />
      @if (searchName) {
        <button class="clear-search" (click)="clearSearch()">
          <svg viewBox="0 0 24 24" fill="none" stroke="currentColor">
            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M6 18L18 6M6 6l12 12" />
          </svg>
        </button>
      }
    </div>
  </div>

  <!-- Templates -->
  <ng-template #actionsTemplate let-customer>
    <div class="action-buttons">
      <button class="action-btn remove-btn" (click)="deleteCustomer(customer.id)" title="Delete">
        <svg viewBox="0 0 24 24" fill="none" stroke="currentColor">
          <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16" />
        </svg>
        <span>Remove</span>
      </button>
    </div>
  </ng-template>

  <!-- Data Table -->
  <app-data-table
    [columns]="columns"
    [data]="customers"
    [loading]="loading"
    [totalItems]="totalItems"
    [pageSize]="pageSize"
    [pageIndex]="pageIndex"
    [pageSizeOptions]="[5, 10, 20, 50, 100]"
    emptyMessage="No customers found"
    (pageChange)="onPageChange($event)"
    (sortChange)="onSort($event)"
  ></app-data-table>
</div>
